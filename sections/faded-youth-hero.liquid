{% if request.page_type != 'index' %}{% return %}{% endif %}

<section class="fy-hero-wrap">
  <div class="fy-hero-media">
    <video
      class="fy-hero-video"
      playsinline muted autoplay loop preload="metadata"
      {% if section.settings.poster_desktop %}poster="{{ section.settings.poster_desktop | image_url }}"{% endif %}
    >
      {% if section.settings.mobile_video_url %}
        <source src="{{ section.settings.mobile_video_url }}" type="video/mp4" media="(max-width: 768px)">
      {% else %}
        <source src="https://cdn.shopify.com/videos/c/o/v/e4a19337a343467f9380b4a4d6f3add1.mp4" type="video/mp4" media="(max-width: 768px)">
      {% endif %}
      {% if section.settings.desktop_video_url %}
        <source src="{{ section.settings.desktop_video_url }}" type="video/mp4">
      {% else %}
        <source src="https://cdn.shopify.com/videos/c/o/v/e4a19337a343467f9380b4a4d6f3add1.mp4" type="video/mp4">
      {% endif %}
    </video>
  </div>
</section>

<style>
  :root {
    --fy-focal-x: 50%;
    --fy-focal-y-desktop: 50%;
    --fy-focal-y-mobile: 50%;
  }

  .fy-hero-wrap {
    width: 100vw;
    height: 100dvh;
    position: relative;
    overflow: hidden;
    background: #000;
  }

  .fy-hero-media {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .fy-hero-video {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    min-width: 100vw;
    min-height: 100dvh;
    width: auto;
    height: auto;
    object-fit: cover;
    object-position: var(--fy-focal-x) var(--fy-focal-y-desktop);
  }

  .section-header, .header {
    position: relative;
    z-index: 10;
  }

  html, body {
    overflow-x: hidden;
  }

  @media (max-width: 768px) {
    .fy-hero-wrap {
      height: 72dvh;
    }

    .fy-hero-video {
      transform: translate(-50%, -50%) scale(.65);
      min-width: 154vw; /* 100vw / 0.65 */
      min-height: 111dvh; /* 72dvh / 0.65 */
      object-position: var(--fy-focal-x) var(--fy-focal-y-mobile);
    }
  }
</style>

{% schema %}
{
  "name": "FADED YOUTH Hero Video",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "desktop_video_url",
      "label": "Desktop Video URL"
    },
    {
      "type": "text",
      "id": "mobile_video_url",
      "label": "Mobile Video URL"
    },
    {
      "type": "image_picker",
      "id": "poster_desktop",
      "label": "Desktop Poster Image"
    },
    {
      "type": "image_picker",
      "id": "poster_mobile",
      "label": "Mobile Poster Image"
    }
  ],
  "presets": [{ "name": "FADED YOUTH Hero Video" }]
}
{% endschema %}
